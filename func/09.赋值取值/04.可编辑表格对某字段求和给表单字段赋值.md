# 04.可编辑表格对某字段求和给表单字段赋值

> setFormSumValue

## 需求

某主子表保存场景中，表格是开了行内编辑，表格有单价和数量字段，求和后给表单字段赋值。

## 实现

在数量字段中，编写脚本：

```js
this.setFormSumValue({ formid: '主表单的表单ID', formCol: '表单中总金额字段名', gridCol: '表格中的合计字段名'})
```

```js
// 更新表格行中的小合计字段
var gross_amount = this.getGridVal({col:"gross_amount"})
var tax_amount = this.getGridVal({col:"tax_amount"})

var total = Number(gross_amount)+Number(tax_amount)
this.setGridVal({
  col:"total_amount",
  val:total
})

// 更新表单中的合计金额
this.setFormSumValue({ formid: '0000120260126134547YUTYTL82', formCol: 'reim_money', gridCol: 'total_amount'})
```
