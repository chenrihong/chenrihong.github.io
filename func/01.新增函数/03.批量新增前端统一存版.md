# 03.批量新增前端统一存版

Date: 2025-11-11

:::tip[前端统一保存版本]

解决批量新增的使用场景，之前都是批量新增时直接落库的

:::

开发中，尚未完成，需求工单： _202511111340000049437_
 


## 函数名

> this.pickRowsClick

## 参数

1. pageid 页面ID, 不配置时，使用按钮绑的明细页面id，或表格区绑的明细页面id
2. pickConfig: 选择配置。
    - pkCok: string. 再次打开选择界面时，使用此字段作为过滤弹窗中的数据。

## 示例一

```js
this.pickRowsClick({
    pageid: "0000120251112112400QNB7R2O",
    pickConfig:{
        pkCol:'exam_id'
    }
})
```

## 示例二：确认按钮回调函数

```js
this.pickRowsClick({ 
  pageid: "0000120251223152955Y8IDM2G",
  pickConfig:{
    pkCol:'payment_id'
  },
  confirmCallback:(rows)=>{
    console.log({rows})
  }
})
```


## 数据集配置

### 表格数据集须要支持条件：`SELECTED_ID`

选择界面需要提供条件字段，用于过滤已选数据。此条件满足：
1. 必面是隐藏
2. 必须用 List 入参
3. 必须用参数名`SELECTED_ID`

### 数据集举例

```sql
select * from scm_pm_exam plan where DELETE_FLAG=0
${
(emptyparam("HOSP_ID")==false ? " and HOSP_ID=:HOSP_ID" : "" ) 
+ (emptyparam("TENANT_ID")==false ? " and TENANT_ID=:TENANT_ID" : "" ) 
+ (emptyparam("EXAM_ID")==false ? " and EXAM_ID=:EXAM_ID" : "" ) 
+ (emptyparam("MODEL_ID")==false ? " and MODEL_ID=:MODEL_ID" : "" ) 
+ (emptyparam("PROJECT_ID")==false ? " and PROJECT_ID=:PROJECT_ID" : "" ) 
+ (emptyparam("EXAM_CONTENT")==false ? " and EXAM_CONTENT=:EXAM_CONTENT" : "" ) 
+ (emptyparam("SELECTED_ID")==false ? " and EXAM_ID NOT IN(:SELECTED_ID)" : "" )  -- 这里
+#keyword
}
```