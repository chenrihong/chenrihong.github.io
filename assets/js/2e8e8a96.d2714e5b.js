"use strict";(self.webpackChunkthoth_docs=self.webpackChunkthoth_docs||[]).push([[9641],{3275:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"\u4e0a\u4f20\u4e0b\u8f7d\u51fd\u6570/\u4e0b\u8f7dZIP\u51fd\u6570","title":"02.\u4e0b\u8f7dZIP\u6309\u94ae","description":"\u79fb\u52a8\u7aef\u76ee\u524d\u4e0d\u652f\u6301\uff0c\u914d\u7f6e\u65f6\u8bf7\u9009\u62e9\u4ec5PC","source":"@site/func/03.\u4e0a\u4f20\u4e0b\u8f7d\u51fd\u6570/02.\u4e0b\u8f7dZIP\u51fd\u6570.md","sourceDirName":"03.\u4e0a\u4f20\u4e0b\u8f7d\u51fd\u6570","slug":"/\u4e0a\u4f20\u4e0b\u8f7d\u51fd\u6570/\u4e0b\u8f7dZIP\u51fd\u6570","permalink":"/func/\u4e0a\u4f20\u4e0b\u8f7d\u51fd\u6570/\u4e0b\u8f7dZIP\u51fd\u6570","draft":false,"unlisted":false,"editUrl":"https://github.com/chenrihong/chenrihong.github.io/tree/main/func/03.\u4e0a\u4f20\u4e0b\u8f7d\u51fd\u6570/02.\u4e0b\u8f7dZIP\u51fd\u6570.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"community","previous":{"title":"01.\u4e0a\u4f20\u6309\u94ae\u5f39\u7a97","permalink":"/func/\u4e0a\u4f20\u4e0b\u8f7d\u51fd\u6570/\u4e0a\u4f20\u6309\u94ae\u5f39\u7a97"},"next":{"title":"04.\u5173\u95ed\u9875\u7b7e","permalink":"/func/category/04\u5173\u95ed\u9875\u7b7e"}}');var i=t(6070),r=t(5658);const o={},d="02.\u4e0b\u8f7dZIP\u6309\u94ae",c={},l=[{value:"\u51fd\u6570\u540d",id:"\u51fd\u6570\u540d",level:2},{value:"\u53c2\u6570",id:"\u53c2\u6570",level:2},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:3}];function a(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"02\u4e0b\u8f7dzip\u6309\u94ae",children:"02.\u4e0b\u8f7dZIP\u6309\u94ae"})}),"\n",(0,i.jsx)(n.admonition,{title:"\u4e0d\u652f\u6301\u6d41\u7a0b\u6309\u94ae\u54e6",type:"danger",children:(0,i.jsx)(n.p,{children:"\u79fb\u52a8\u7aef\u76ee\u524d\u4e0d\u652f\u6301\uff0c\u914d\u7f6e\u65f6\u8bf7\u9009\u62e9\u4ec5PC"})}),"\n",(0,i.jsx)(n.h2,{id:"\u51fd\u6570\u540d",children:"\u51fd\u6570\u540d"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u51fd\u6570\u540d"}),(0,i.jsx)(n.th,{children:"\u529f\u80fd"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"this.downloadZip"}),(0,i.jsx)(n.td,{children:"\u6309\u94ae\u4e0a\u4f7f\u7528"})]})})]}),"\n",(0,i.jsx)(n.h2,{id:"\u53c2\u6570",children:"\u53c2\u6570"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export interface DownloadZipArgs {\n    url: string,\n    data: Record<string, string>,\n    fileName?: string\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const userInfo = this.getUserInfo();\nconst hospId = userInfo.hospId;\nconst tenantId = userInfo.tenantId;\n\nconst rows = this.getGridSelectedRows();\nif (rows.length === 0) {\n    window.message.pcbox.alert('\u8bf7\u9009\u62e9\u8981\u4e0b\u8f7d\u7684\u56fe\u7247');\n} else {\n    const ids = rows.map(row => row.file_id);\n\n    this.downloadZip({\n        url: '/a0/files/filePic/public/exportPicturesZip',\n        data: { hospId, tenantId, fileIds: ids },\n        fileName: '\u6d4b\u8bd5.zip'\n    })\n}\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},5658:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>d});var s=t(758);const i={},r=s.createContext(i);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);